<!DOCTYPE html>
<html lang="en" class="sr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>遊戲世界，你掌控。</title>

    <!-- Bootstrap core CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />

    <script src="./js/includeHTML.js"></script>
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
  </head>
  <body>
    <div w3-include-html="./component/navbar.html"></div>

    <main class="ms-sm-auto col-lg-12 px-md-4 p-5" style="min-height: 80vh">
      <div class="table-responsive">
        <table
          class="table table-striped table-bordered table-hover caption-top fw-bold"
        >
          <caption>
            訂單總覽
          </caption>
          <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">編號</th>
              <th scope="col">總價</th>
              <th scope="col">狀態</th>
              <th scope="col">交易日期</th>
              <th scope="col">建立日期</th>
              <th scope="col">詳細資訊</th>
            </tr>
          </thead>
          <tbody id="tBody"></tbody>
        </table>
      </div>
    </main>

    <div w3-include-html="./component/footer.html"></div>

    <script>
      includeHTML()
    </script>

    <script>
      var data = [
        {
          orderId: 1,
          uuid: 1,
          amount: 100,
          paymentStatus: 'PAID',
          paymentDate: '2023-02-21',
          createdDate: '2023-02-21',
        },
        {
          orderId: 2,
          uuid: 2,
          amount: 200,
          paymentStatus: 'PAID',
          paymentDate: '2023-02-21',
          createdDate: '2023-02-21',
        },
        {
          orderId: 3,
          uuid: 3,
          amount: 300,
          paymentStatus: 'PAID',
          paymentDate: '2023-02-21',
          createdDate: '2023-02-21',
        },
        {
          orderId: 4,
          uuid: 4,
          amount: 400,
          paymentStatus: 'PAID',
          paymentDate: '2023-02-21',
          createdDate: '2023-02-21',
        },
      ]

      document.ready(renderTable())

      function renderTable() {
        const tableBody = document.querySelector('#tBody')
        tableBody.innerHTML = ''
        data.forEach((order, index) => {
          const tr = document.createElement('tr')
          tr.innerHTML = `
          <td>${index + 1}</td>
          <td>${order.uuid}</td>
          <td>${order.amount}</td>
          <td>${order.paymentStatus}</td>
          <td>${order.paymentDate}</td>
          <td>${order.createdDate}</td>
          <td><button "
            class="btn btn-primary" type="button"
            data-bs-toggle="collapse" data-bs-target="#orderItem${
              order.orderId
            }"
            aria-expanded="false" aria-controls="orderItem${order.orderId}">${
            order.orderId
          }</button></td>
          `
          tableBody.appendChild(tr)
          tableBody.append(
            `<div class="collapse" id="orderItem${order.orderId}">123</div>`
          )
        })
      }
    </script>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>

    <!-- jQuery Core 3.6.4 -->
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>

    <script src="./js/showToast.js"></script>
    <script src="./js/checkAccessToken.js"></script>
    <script src="./js/service/orderService.js"></script>
  </body>
</html>
